
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Smart Expense Tracker with Analytics</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <style>
        /* Custom animations */
        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }
        .fade-in {
            animation: fadeIn 0.5s ease-in;
        }
        .gradient-bg {
            background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);
        }
        .card-hover:hover {
            transform: translateY(-5px);
            box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04);
        }
    </style>
</head>




<body class="gradient-bg min-h-screen">
    <div class="container mx-auto px-4 py-8">
        <!-- Header -->
        <header class="text-center mb-12 fade-in">
            <div class="flex justify-center mb-6">
                <img src="https://placehold.co/100x100" alt="Expense tracker logo featuring a stylized wallet with graphs coming out of it" class="rounded-full shadow-lg" />
            </div>
            <h1 class="text-4xl font-bold text-gray-800 mb-2">Smart Expense Tracker</h1>
            <p class="text-xl text-gray-600">Track, Analyze, and Optimize Your Spending</p>
        </header>

        <!-- Main Content Grid -->
        <div class="grid grid-cols-1 lg:grid-cols-3 gap-8">
            <!-- Input Section -->
            <div class="bg-white rounded-xl shadow-lg p-6 card-hover transition-all duration-300 fade-in lg:col-span-1">
                <h2 class="text-2xl font-semibold text-gray-800 mb-6">Add New Expense</h2>
                
                <form id="expense-form" class="space-y-4">
                    <div>
                        <label for="amount" class="block text-sm font-medium text-gray-700 mb-1">Amount</label>
                        <div class="relative rounded-md shadow-sm">
                            <div class="absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none">
                                <span class="text-gray-500 sm:text-sm">$</span>
                            </div>
                            <input type="number" step="0.01" id="amount" class="focus:ring-indigo-500 focus:border-indigo-500 block w-full pl-7 pr-12 py-2 border-gray-300 rounded-md" placeholder="0.00">
                        </div>
                    </div>
                    
                    <div>
                        <label for="category" class="block text-sm font-medium text-gray-700 mb-1">Category</label>
                        <select id="category" class="mt-1 block w-full py-2 px-3 border border-gray-300 bg-white rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500">
                            <option value="housing">Housing</option>
                            <option value="food">Food</option>
                            <option value="transportation">Transportation</option>
                            <option value="utilities">Utilities</option>
                            <option value="healthcare">Healthcare</option>
                            <option value="entertainment">Entertainment</option>
                            <option value="other">Other</option>
                        </select>
                    </div>
                    
                    <div>
                        <label for="date" class="block text-sm font-medium text-gray-700 mb-1">Date</label>
                        <input type="date" id="date" class="mt-1 focus:ring-indigo-500 focus:border-indigo-500 block w-full shadow-sm sm:text-sm border-gray-300 rounded-md">
                    </div>
                    
                    <div>
                        <label for="description" class="block text-sm font-medium text-gray-700 mb-1">Description</label>
                        <textarea id="description" rows="2" class="shadow-sm focus:ring-indigo-500 focus:border-indigo-500 mt-1 block w-full sm:text-sm border-gray-300 rounded-md" placeholder="Optional notes..."></textarea>
                    </div>
                    
                    <button type="submit" class="w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500">
                        Add Expense
                    </button>
                </form>
            </div>
            
            <!-- Analytics Section -->
            <div class="lg:col-span-2 space-y-8">
                <!-- Summary Cards -->
                <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
                    <div class="bg-white rounded-xl shadow-lg p-6 card-hover transition-all duration-300 fade-in">
                        <div class="flex items-center">
                            <div class="p-3 rounded-full bg-indigo-100 text-indigo-600 mr-4">
                                <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z" />
                                </svg>
                            </div>
                            <div>
                                <p class="text-sm font-medium text-gray-500">This Month</p>
                                <p id="month-total" class="text-2xl font-semibold text-gray-800">$0.00</p>
                            </div>
                        </div>
                    </div>
                    
                    <div class="bg-white rounded-xl shadow-lg p-6 card-hover transition-all duration-300 fade-in">
                        <div class="flex items-center">
                            <div class="p-3 rounded-full bg-green-100 text-green-600 mr-4">
                                <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2" />
                                </svg>
                            </div>
                            <div>
                                <p class="text-sm font-medium text-gray-500">Top Category</p>
                                <p id="top-category" class="text-2xl font-semibold text-gray-800">-</p>
                            </div>
                        </div>
                    </div>
                    
                    <div class="bg-white rounded-xl shadow-lg p-6 card-hover transition-all duration-300 fade-in">
                        <div class="flex items-center">
                            <div class="p-3 rounded-full bg-blue-100 text-blue-600 mr-4">
                                <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 7h8m0 0v8m0-8l-8 8-4-4-6 6" />
                                </svg>
                            </div>
                            <div>
                                <p class="text-sm font-medium text-gray-500">Avg. Daily</p>
                                <p id="daily-avg" class="text-2xl font-semibold text-gray-800">$0.00</p>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- Charts Section -->
                <div class="bg-white rounded-xl shadow-lg p-6 card-hover transition-all duration-300 fade-in">
                    <h2 class="text-2xl font-semibold text-gray-800 mb-6">Expense Analytics</h2>
                    
                    <div class="flex justify-between mb-6">
                        <div>
                            <h3 class="text-lg font-medium text-gray-700">Spending Overview</h3>
                            <p class="text-sm text-gray-500">Understand your expense patterns</p>
                        </div>
                        <select id="chart-period" class="mt-1 block py-2 px-3 border border-gray-300 bg-white rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500">
                            <option value="week">Last 7 Days</option>
                            <option value="month" selected>This Month</option>
                            <option value="year">This Year</option>
                        </select>
                    </div>
                    
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-6 mb-6">
                        <div class="h-64">
                            <canvas id="expense-chart"></canvas>
                        </div>
                        <div class="h-64">
                            <canvas id="category-chart"></canvas>
                        </div>
                    </div>
                    
                    <!-- Simulated Python Analysis Section -->
                    <div class="mt-6 p-4 bg-gray-50 rounded-lg border border-gray-200 fade-in">
                        <div class="flex items-center mb-3">
                            <div class="p-2 rounded-full bg-yellow-100 text-yellow-600 mr-3">
                                <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z" />
                                </svg>
                            </div>
                            <h3 class="text-lg font-medium text-gray-700">AI-Powered Insights (Python Simulation)</h3>
                        </div>
                        
                        <div id="analysis-results" class="space-y-3">
                            <p class="text-sm text-gray-600">Add some expenses to see personalized analysis...</p>
                        </div>
                        
                        <button id="analyze-btn" class="mt-4 inline-flex items-center px-3 py-1.5 border border-transparent text-xs font-medium rounded-full shadow-sm text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500">
                            Run Analysis
                        </button>
                        
                        <div class="mt-3 flex items-center text-xs text-gray-500">
                            <svg xmlns="http://www.w3.org/2000/svg" class="h-3 w-3 mr-1" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z" />
                            </svg>
                            This simulates Python analysis that would run on your backend
                        </div>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- Recent Transactions -->
        <div class="mt-12 bg-white rounded-xl shadow-lg p-6 card-hover transition-all duration-300 fade-in">
            <div class="flex justify-between items-center mb-6">
                <h2 class="text-2xl font-semibold text-gray-800">Recent Transactions</h2>
                <button id="clear-all" class="text-sm text-red-500 hover:text-red-700">Clear All</button>
            </div>
            
            <div class="overflow-x-auto">
                <table class="min-w-full divide-y divide-gray-200">
                    <thead class="bg-gray-50">
                        <tr>
                            <th scope="col" class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Date</th>
                            <th scope="col" class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Description</th>
                            <th scope="col" class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Category</th>
                            <th scope="col" class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Amount</th>
                            <th scope="col" class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Actions</th>
                        </tr>
                    </thead>
                    <tbody id="transactions-list" class="bg-white divide-y divide-gray-200">
                        <!-- Transactions will be added here dynamically -->
                        <tr>
                            <td colspan="5" class="px-6 py-4 text-center text-sm text-gray-500">No transactions yet</td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>
    </div>

    <script>
        // Expense data storage
        let expenses = JSON.parse(localStorage.getItem('expenses')) || [];
        let expenseChart = null;
        let categoryChart = null;
        
        // DOM Elements
        const expenseForm = document.getElementById('expense-form');
        const transactionsList = document.getElementById('transactions-list');
        const monthTotalEl = document.getElementById('month-total');
        const topCategoryEl = document.getElementById('top-category');
        const dailyAvgEl = document.getElementById('daily-avg');
        const chartPeriod = document.getElementById('chart-period');
        const analyzeBtn = document.getElementById('analyze-btn');
        const analysisResults = document.getElementById('analysis-results');
        const clearAllBtn = document.getElementById('clear-all');
        
        // Initialize the app
        document.addEventListener('DOMContentLoaded', () => {
            renderExpenses();
            updateCharts();
            updateSummary();
            setDefaultDate();
        });
        
        // Set today's date as default
        function setDefaultDate() {
            const today = new Date();
            const dateString = today.toISOString().split('T')[0];
            document.getElementById('date').value = dateString;
        }
        
        // Add new expense
        expenseForm.addEventListener('submit', (e) => {
            e.preventDefault();
            
            const amount = parseFloat(document.getElementById('amount').value);
            const category = document.getElementById('category').value;
            const date = document.getElementById('date').value;
            const description = document.getElementById('description').value;
            
            if (isNaN(amount) || amount <= 0) {
                alert('Please enter a valid amount');
                return;
            }
            
            const newExpense = {
                id: Date.now(),
                amount,
                category,
                date,
                description: description || 'No description'
            };
            
            expenses.push(newExpense);
            saveExpenses();
            renderExpenses();
            updateCharts();
            updateSummary();
            
            // Reset form
            expenseForm.reset();
            setDefaultDate();
        });
        
        // Delete expense
        function deleteExpense(id) {
            expenses = expenses.filter(expense => expense.id !== id);
            saveExpenses();
            renderExpenses();
            updateCharts();
            updateSummary();
        }
        
        // Save expenses to localStorage
        function saveExpenses() {
            localStorage.setItem('expenses', JSON.stringify(expenses));
        }
        
        // Render expenses list
        function renderExpenses() {
            if (expenses.length === 0) {
                transactionsList.innerHTML = `
                    <tr>
                        <td colspan="5" class="px-6 py-4 text-center text-sm text-gray-500">No transactions yet</td>
                    </tr>
                `;
                return;
            }
            
            let html = '';
            
            // Sort by date (newest first)
            const sortedExpenses = [...expenses].sort((a, b) => new Date(b.date) - new Date(a.date));
            
            sortedExpenses.forEach(expense => {
                const date = new Date(expense.date);
                const formattedDate = date.toLocaleDateString('en-US', { 
                    year: 'numeric', 
                    month: 'short', 
                    day: 'numeric' 
                });
                
                html += `
                    <tr>
                        <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">${formattedDate}</td>
                        <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">${expense.description}</td>
                        <td class="px-6 py-4 whitespace-nowrap text-sm">
                            <span class="px-2 inline-flex text-xs leading-5 font-semibold rounded-full capitalize ${getCategoryColor(expense.category)}">
                                ${expense.category}
                            </span>
                        </td>
                        <td class="px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900">$${expense.amount.toFixed(2)}</td>
                        <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">
                            <button onclick="deleteExpense(${expense.id})" class="text-red-500 hover:text-red-700">Delete</button>
                        </td>
                    </tr>
                `;
            });
            
            transactionsList.innerHTML = html;
        }
        
        // Get category color class
        function getCategoryColor(category) {
            const colors = {
                housing: 'bg-purple-100 text-purple-800',
                food: 'bg-green-100 text-green-800',
                transportation: 'bg-blue-100 text-blue-800',
                utilities: 'bg-yellow-100 text-yellow-800',
                healthcare: 'bg-red-100 text-red-800',
                entertainment: 'bg-pink-100 text-pink-800',
                other: 'bg-gray-100 text-gray-800'
            };
            return colors[category] || colors.other;
        }
        
        // Update summary statistics
        function updateSummary() {
            const now = new Date();
            const currentMonth = now.getMonth();
            const currentYear = now.getFullYear();
            
            // Filter expenses for current month
            const monthlyExpenses = expenses.filter(expense => {
                const expenseDate = new Date(expense.date);
                return expenseDate.getMonth() === currentMonth && 
                       expenseDate.getFullYear() === currentYear;
            });
            
            // Calculate month total
            const monthTotal = monthlyExpenses.reduce((sum, expense) => sum + expense.amount, 0);
            monthTotalEl.textContent = `$${monthTotal.toFixed(2)}`;
            
            // Calculate daily average
            const daysInMonth = new Date(currentYear, currentMonth + 1, 0).getDate();
            const dailyAvg = monthTotal / daysInMonth;
            dailyAvgEl.textContent = `$${dailyAvg.toFixed(2)}`;
            
            // Find top category
            const categoryTotals = {};
            monthlyExpenses.forEach(expense => {
                categoryTotals[expense.category] = (categoryTotals[expense.category] || 0) + expense.amount;
            });
            
            if (Object.keys(categoryTotals).length > 0) {
                const topCategory = Object.keys(categoryTotals).reduce((a, b) => 
                    categoryTotals[a] > categoryTotals[b] ? a : b
                );
                topCategoryEl.textContent = `${capitalize(topCategory)} ($${categoryTotals[topCategory].toFixed(2)})`;
            } else {
                topCategoryEl.textContent = '-';
            }
        }
        
        // Capitalize string
        function capitalize(str) {
            return str.charAt(0).toUpperCase() + str.slice(1);
        }
        
        // Update charts
        function updateCharts() {
            renderTimeChart();
            renderCategoryChart();
        }
        
        // Render time-based chart
        function renderTimeChart() {
            const ctx = document.getElementById('expense-chart').getContext('2d');
            const period = chartPeriod.value;
            
            let labels = [];
            let data = [];
            
            if (period === 'week') {
                // Last 7 days
                labels = Array.from({ length: 7 }, (_, i) => {
                    const date = new Date();
                    date.setDate(date.getDate() - 6 + i);
                    return date.toLocaleDateString('en-US', { weekday: 'short' });
                });
                
                data = Array(7).fill(0);
                
                expenses.forEach(expense => {
                    const expenseDate = new Date(expense.date);
                    const today = new Date();
                    const diffDays = Math.floor((today - expenseDate) / (1000 * 60 * 60 * 24));
                    
                    if (diffDays >= 0 && diffDays < 7) {
                        data[6 - diffDays] += expense.amount;
                    }
                });
            } else if (period === 'month') {
                // Current month days
                const now = new Date();
                const daysInMonth = new Date(now.getFullYear(), now.getMonth() + 1, 0).getDate();
                const currentMonth = now.getMonth();
                const currentYear = now.getFullYear();
                
                labels = Array.from({ length: daysInMonth }, (_, i) => (i + 1).toString());
                data = Array(daysInMonth).fill(0);
                
                expenses.forEach(expense => {
                    const expenseDate = new Date(expense.date);
                    if (expenseDate.getMonth() === currentMonth && 
                        expenseDate.getFullYear() === currentYear) {
                        const day = expenseDate.getDate() - 1;
                        data[day] += expense.amount;
                    }
                });
            } else if (period === 'year') {
                // Current year months
                labels = ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec'];
                data = Array(12).fill(0);
                const currentYear = new Date().getFullYear();
                
                expenses.forEach(expense => {
                    const expenseDate = new Date(expense.date);
                    if (expenseDate.getFullYear() === currentYear) {
                        const month = expenseDate.getMonth();
                        data[month] += expense.amount;
                    }
                });
            }
            
            // Destroy previous chart if exists
            if (expenseChart) {
                expenseChart.destroy();
            }
            
            expenseChart = new Chart(ctx, {
                type: 'bar',
                data: {
                    labels: labels,
                    datasets: [{
                        label: 'Expenses ($)',
                        data: data,
                        backgroundColor: 'rgba(79, 70, 229, 0.7)',
                        borderColor: 'rgba(79, 70, 229, 1)',
                        borderWidth: 1
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    scales: {
                        y: {
                            beginAtZero: true,
                            ticks: {
                                callback: function(value) {
                                    return '$' + value;
                                }
                            }
                        }
                    }
                }
            });
        }
        
        // Render category chart
        function renderCategoryChart() {
            const ctx = document.getElementById('category-chart').getContext('2d');
            
            // Calculate category totals
            const categoryTotals = {};
            expenses.forEach(expense => {
                categoryTotals[expense.category] = (categoryTotals[expense.category] || 0) + expense.amount;
            });
            
            const labels = Object.keys(categoryTotals);
            const data = Object.values(categoryTotals);
            
            const backgroundColors = labels.map(category => {
                const colors = {
                    housing: 'rgba(167, 139, 250, 0.7)',
                    food: 'rgba(72, 187, 120, 0.7)',
                    transportation: 'rgba(96, 165, 250, 0.7)',
                    utilities: 'rgba(251, 207, 51, 0.7)',
                    healthcare: 'rgba(248, 113, 113, 0.7)',
                    entertainment: 'rgba(236, 72, 153, 0.7)',
                    other: 'rgba(156, 163, 175, 0.7)'
                };
                return colors[category] || colors.other;
            });
            
            const borderColors = backgroundColors.map(color => color.replace('0.7', '1'));
            
            // Destroy previous chart if exists
            if (categoryChart) {
                categoryChart.destroy();
            }
            
            categoryChart = new Chart(ctx, {
                type: 'doughnut',
                data: {
                    labels: labels,
                    datasets: [{
                        data: data,
                        backgroundColor: backgroundColors,
                        borderColor: borderColors,
                        borderWidth: 1
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: {
                            position: 'bottom',
                        }
                    }
                }
            });
        }
        
        // Change chart period
        chartPeriod.addEventListener('change', () => {
            renderTimeChart();
        });
        
        // Run analysis (simulating Python processing)
        analyzeBtn.addEventListener('click', () => {
            if (expenses.length === 0) {
                analysisResults.innerHTML = '<p class="text-sm text-gray-600">Add expenses to get insights</p>';
                return;
            }
            
            analysisResults.innerHTML = `
                <div class="flex justify-center">
                    <div class="animate-spin h-5 w-5 text-indigo-600"></div>
                </div>
            `;
            
            // Simulate analysis delay
            setTimeout(() => {
                const insights = generateInsights();
                displayInsights(insights);
            }, 1500);
        });
        
        // Generate insights (simulated Python analysis)
        function generateInsights() {
            const insights = [];
            
            if (expenses.length === 0) return insights;
            
            // Calculate total spending
            const totalSpending = expenses.reduce((sum, expense) => sum + expense.amount, 0);
            
            // Calculate monthly averages
            const monthlySpending = {};
            expenses.forEach(expense => {
                const date = new Date(expense.date);
                const monthYear = `${date.getMonth() + 1}/${date.getFullYear()}`;
                monthlySpending[monthYear] = (monthlySpending[monthYear] || 0) + expense.amount;
            });
            
            const monthlyValues = Object.values(monthlySpending);
            const avgMonthlySpending = monthlyValues.reduce((sum, val) => sum + val, 0) / monthlyValues.length;
            const maxMonthlySpending = Math.max(...monthlyValues);
            
            // Category analysis
            const categorySpending = {};
            expenses.forEach(expense => {
                categorySpending[expense.category] = (categorySpending[expense.category] || 0) + expense.amount;
            });
            
            const topCategory = Object.keys(categorySpending).reduce((a, b) => 
                categorySpending[a] > categorySpending[b] ? a : b
            );
            
            // Day of week analysis
            const daySpending = Array(7).fill(0);
            expenses.forEach(expense => {
                const date = new Date(expense.date);
                daySpending[date.getDay()] += expense.amount;
            });
            
            const highSpendDayIndex = daySpending.indexOf(Math.max(...daySpending));
            const days = ['Sunday', 'Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday'];
            const highSpendDay = days[highSpendDayIndex];
            
            // Generate insights
            insights.push({
                icon: 'ðŸ’°',
                text: `You've spent a total of $${totalSpending.toFixed(2)} across ${expenses.length} transactions.`,
                severity: 'info'
            });
            
            insights.push({
                icon: 'ðŸ“…',
                text: `Your average monthly spending is $${avgMonthlySpending.toFixed(2)}, peaking at $${maxMonthlySpending.toFixed(2)}.`,
                severity: 'warning'
            });
            
            insights.push({
                icon: 'ðŸ“Š',
                text: `Your biggest spending category is ${capitalize(topCategory)}, accounting for $${categorySpending[topCategory].toFixed(2)} (${((categorySpending[topCategory] / totalSpending) * 100).toFixed(1)}%).`,
                severity: 'warning'
            });
            
            insights.push({
                icon: 'ðŸ“†',
                text: `You tend to spend the most on ${highSpendDay}s, averaging $${(daySpending[highSpendDayIndex] / (expenses.length / 7)).toFixed(2)} per week on this day.`,
                severity: 'info'
            });
            
            // Check for overspending in food/entertainment
            const foodPercent = (categorySpending.food || 0) / totalSpending;
            if (foodPercent > 0.3) {
                insights.push({
                    icon: 'âš ï¸',
                    text: `Food spending is high at ${(foodPercent * 100).toFixed(1)}% of total expenses. Consider meal planning to reduce costs.`,
                    severity: 'danger'
                });
            }
            
            const entertainmentPercent = (categorySpending.entertainment || 0) / totalSpending;
            if (entertainmentPercent > 0.2) {
                insights.push({
                    icon: 'âš ï¸',
                    text: `Entertainment spending is high at ${(entertainmentPercent * 100).toFixed(1)}% of total expenses. Look for free alternatives.`,
                    severity: 'danger'
                });
            }
            
            // Check for irregular spending patterns
            const spendingStdev = Math.sqrt(
                monthlyValues.map(x => Math.pow(x - avgMonthlySpending, 2)).reduce((a, b) => a + b) / monthlyValues.length
            );
            
            if (spendingStdev > avgMonthlySpending * 0.5) {
                insights.push({
                    icon: 'ðŸ”',
                    text: `Your spending varies significantly month-to-month (+/- $${spendingStdev.toFixed(2)}). Try to identify what causes these fluctuations.`,
                    severity: 'warning'
                });
            }
            
            return insights;
        }
        
        // Display insights
        function displayInsights(insights) {
            let html = '';
            
            insights.forEach(insight => {
                const colorClasses = {
                    info: 'bg-blue-50 text-blue-800',
                    warning: 'bg-yellow-50 text-yellow-800',
                    danger: 'bg-red-50 text-red-800'
                };
                
                html += `
                    <div class="flex items-start p-3 rounded-lg ${colorClasses[insight.severity]} mb-3">
                        <span class="mr-3 text-lg">${insight.icon}</span>
                        <p class="text-sm">${insight.text}</p>
                    </div>
                `;
            });
            
            if (html === '') {
                html = '<p class="text-sm text-gray-600">Add more expenses to get personalized insights</p>';
            }
            
            analysisResults.innerHTML = html;
        }
        
        // Clear all expenses
        clearAllBtn.addEventListener('click', () => {
            if (confirm('Are you sure you want to delete all expenses? This cannot be undone.')) {
                expenses = [];
                saveExpenses();
                renderExpenses();
                updateCharts();
                updateSummary();
                analysisResults.innerHTML = '<p class="text-sm text-gray-600">Add some expenses to see personalized analysis...</p>';
            }
        });
    </script>
</body>
</html>
<!-- 
### Features Implemented:

1. **Expense Input System**
   - Form with amount, category, date, and description fields
   - Form validation and submission handling

2. **Expense Tracking**
   - Local storage persistence
   - Display of recent transactions
   - Delete functionality

3. **Visual Analytics**
   - Bar chart for time-based spending (week/month/year)
   - Doughnut chart for category breakdown
   - Responsive charts using Chart.js

4. **Summary Statistics**
   - Current month total spending
   - Daily average spending
   - Top spending category

5. **Simulated Python Analysis**
   - Generates insights about spending patterns
   - Identifies potential overspending areas
   - Highlights irregular spending patterns
   - Provides actionable recommendations

6. **Modern UI**
   - Clean, responsive design with Tailwind CSS
   - Card-based layout with hover effects
   - Smooth animations

### Notes on Python Integration:

While this is a frontend-only implementation for a single HTML file, in a real application you would:
1. Send expense data to a Python backend via API calls
2. Use Python libraries like Pandas for data analysis
3. Utilize Matplotlib/Seaborn for advanced visualizations
4. Implement machine learning for predictive analytics

The JavaScript analysis in this file simulates what Python would do on the backend, making it easy to migrate the logic to actual Python when needed.<ï½œendâ–ofâ–sentenceï½œ> -->
